(this["webpackJsonpsimple-timer"]=this["webpackJsonpsimple-timer"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(21),c=n.n(l),o=(n(62),n(7)),i=(n(63),n(52)),u=n.n(i),s=n(8),m=n(9),f=(n(69),n(70),n(24)),d=n(51);n(71),n(46);function E(e){return{seconds:Math.floor(e/1e3)%60,minutes:Math.floor(e/6e4)%60,hours:Math.floor(e/36e5)%24,days:Math.floor(e/864e5)}}var v=[{id:"days",label:"Days:"},{id:"hours",label:"Hours:"},{id:"minutes",label:"Minutes:"},{id:"seconds",label:"Seconds:"}];function g(e){var t=e.countdownTime,n=e.setCountdownTime,l=Object(a.useState)(function(e){var t=E(e);return{seconds:t.seconds.toString(),minutes:t.minutes.toString(),hours:t.hours.toString(),days:t.days.toString()}}(t)),c=Object(o.a)(l,2),i=c[0],u=c[1];function s(e){var t=e.target,n=t.value,a=t.id;u((function(e){var t=e[a];return Object(d.a)({},e,Object(f.a)({},a,/^[0-9]*$/.test(n)?n:t))}))}function m(){n(function(e){var t=parseInt(e.seconds)||0,n=parseInt(e.minutes)||0,a=parseInt(e.hours)||0;return 1e3*(60*(60*(24*(parseInt(e.days)||0)+a)+n)+t)}(i))}return r.a.createElement("form",{className:"form"},v.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{className:"input",type:"number",id:e.id,name:e.id,value:i[e.id],onChange:s,onBlur:m}))})))}function b(e){var t=e.value,n=e.onClick;return r.a.createElement("button",{className:"input",onClick:n},t)}var h=n(25),p=n.n(h);function w(e){var t=e.finishDate,n=e.countdownTime,l=e.setFinishDate,c=e.setCountdownTime,o=e.setAppState,i=e.infoText,f=e.setInfoText,d=e.setImage,E=e.image,v=Object(a.useRef)(i||"");return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(s.a,{icon:m.g})," Title"),r.a.createElement("div",null,r.a.createElement(p.a,{className:"textarea",html:v.current,onChange:function(e){return v.current=e.target.value},onBlur:function(){return f&&f(v.current)},tagName:"div"}))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(s.a,{icon:m.f})," Image"),r.a.createElement("div",null,r.a.createElement("input",{id:"inputImage",type:"file",onChange:function(e){var t=(e.target.files||[])[0],n=new FileReader;n.onload=function(e){e&&e.target&&e.target.result&&d({dataURI:e.target.result.toString(),title:t.name})},n.readAsDataURL(t)}}),r.a.createElement("label",{className:"textarea",htmlFor:"inputImage"},r.a.createElement(s.a,{icon:m.c})," Select file (",E?E.title:"none selected",")"),E&&r.a.createElement("button",{onClick:function(){console.log("Clear image"),d(null)}},"Clear"),r.a.createElement("p",null,r.a.createElement("small",null,"This image only gets used locally. No images ever reach our servers.")))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(s.a,{icon:m.a})," Count to datetime"),r.a.createElement("div",{className:"datepicker"},r.a.createElement(u.a,{selected:t,onChange:function(e){return l(e||t)},shouldCloseOnSelect:!1,showTimeSelect:!0,timeIntervals:5,dateFormat:"yyyy MMMM d, HH:mm",customInput:r.a.createElement(b,null)})),r.a.createElement("button",{onClick:function(){o("countToDate")}},"Start ",r.a.createElement(s.a,{icon:m.i}))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(s.a,{icon:m.e})," Countdown"),r.a.createElement("div",null,r.a.createElement(g,{countdownTime:n,setCountdownTime:c})),r.a.createElement("button",{onClick:function(){o("countdown")}},"Start ",r.a.createElement(s.a,{icon:m.k}))))}n(131);n(132);function O(e){var t=function(e){var t=E(e);return{seconds:(t.seconds<10?"0":"")+t.seconds.toString(),minutes:(t.minutes<10?"0":"")+t.minutes.toString(),hours:(t.hours<10?"0":"")+t.hours.toString(),days:(t.days<10?"0":"")+t.days.toString()}}(e.time);return r.a.createElement("div",{className:"clock"},r.a.createElement("div",null,r.a.createElement("span",null,t.days),r.a.createElement("span",null,"Days")),r.a.createElement("div",null,r.a.createElement("span",null,t.hours),r.a.createElement("span",null,"Hours")),r.a.createElement("div",null,r.a.createElement("span",null,t.minutes),r.a.createElement("span",null,"Minutes")),r.a.createElement("div",null,r.a.createElement("span",null,t.seconds),r.a.createElement("span",null,"Seconds")))}function S(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){var e;null===(e=n.current)||void 0===e||e.call(n)}),t);return function(){return clearInterval(e)}}}),[t])}n(133);function T(e){var t=e.infoText,n=e.setInfoText,l=e.small,c=e.editable,o=Object(a.useRef)(t||""),i="".concat(l&&"small"," infotext");return r.a.createElement(p.a,{className:i,html:o.current,disabled:!c,onChange:function(e){return o.current=e.target.value},onBlur:function(){return n&&n(o.current)},tagName:"h2"})}function j(e){var t=e.countdownTime,n=e.infoText,l=e.setInfoText,c=Object(a.useState)(t),i=Object(o.a)(c,2),u=i[0],f=i[1],d=Object(a.useState)(0),E=Object(o.a)(d,2),v=E[0],g=E[1],b=Object(a.useState)(null),h=Object(o.a)(b,2),p=h[0],w=h[1],j=Object(a.useState)(!0),y=Object(o.a)(j,2),k=y[0],I=y[1],N=Object(a.useState)(!1),x=Object(o.a)(N,2),C=x[0],D=x[1];function M(){w(null)}return Object(a.useEffect)((function(){u<=0&&w(null)}),[u]),Object(a.useEffect)((function(){p?(I(!1),D(!0)):(I(u>0),D(!1))}),[p,u]),S((function(){var e=Date.now();f(v-e>0?v-e:0)}),p),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{infoText:n,editable:!0,setInfoText:l}),r.a.createElement(O,{time:u}),r.a.createElement("div",{className:"buttonbar"},r.a.createElement("button",{onClick:function(){f((function(){return M(),t}))}},r.a.createElement(s.a,{icon:m.m})),r.a.createElement("button",{onClick:M,disabled:!C},r.a.createElement(s.a,{icon:m.h})),r.a.createElement("button",{onClick:function(){u>0&&(g(Date.now()+u),w(200))},disabled:!k},r.a.createElement(s.a,{icon:m.j}))))}function y(e){var t=e.finishDate,n=e.infoText,l=e.setInfoText,c=Object(a.useState)(0),i=Object(o.a)(c,2),u=i[0],s=i[1];return S((function(){var e=t.valueOf()-Date.now().valueOf();s(e>0?e:0)}),200),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{editable:!0,infoText:n,setInfoText:l}),r.a.createElement("p",{className:"center"},"Date: ".concat(t.toLocaleString())),r.a.createElement(O,{time:u}))}var k=n(56);function I(e,t){var n=window.localStorage.getItem(e),r=null!==n&&void 0!==n?n:JSON.stringify(t),l=Object(a.useState)(JSON.parse(r)),c=Object(o.a)(l,2),i=c[0],u=c[1];return[i,function(t){localStorage.setItem(e,JSON.stringify(t));for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u.apply(void 0,[t].concat(a))}]}function N(e){return e.toISOString()}var x=n(55);var C=function(){var e=I("app-state","none"),t=Object(o.a)(e,2),n=t[0],a=t[1],l=function(e,t){var n,a=I(e,N(t)),r=Object(o.a)(a,2),l=r[0],c=r[1];return[(n=l,new Date(Date.parse(n))),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return c.apply(void 0,[N(e)].concat(n))}]}("finish-date",new Date),c=Object(o.a)(l,2),i=c[0],u=c[1],f=I("countdownTime",9e5),d=Object(o.a)(f,2),E=d[0],v=d[1],g=I("infoText","Aerospace Technology"),b=Object(o.a)(g,2),h=b[0],p=b[1],O=I("image",null),S=Object(o.a)(O,2),T=S[0],C=S[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"none"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},r.a.createElement(s.a,{icon:m.l})," Simple Timer"),r.a.createElement(w,{finishDate:i,countdownTime:E,setFinishDate:u,setCountdownTime:v,setAppState:a,infoText:h,setInfoText:p,setImage:C,image:T})),"none"!==n&&T&&r.a.createElement("img",{id:"logo",src:T.dataURI,alt:T.title}),"countdown"===n&&r.a.createElement(j,{countdownTime:E,infoText:h,setInfoText:p}),"countToDate"===n&&r.a.createElement(y,{finishDate:i,infoText:h,setInfoText:p}),"none"!==n&&r.a.createElement("button",{className:"back",onClick:function(){a("none")}},r.a.createElement(s.a,{icon:m.b})," Back")),r.a.createElement("footer",null,r.a.createElement("div",{className:"smlinks"},r.a.createElement("a",{className:"iconlink",href:"https://github.com/fliegwerk/simple-timer/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(s.a,{icon:k.a})),r.a.createElement("a",{className:"iconlink",href:"https://fliegwerk.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(s.a,{icon:m.d}))),r.a.createElement("p",{className:"center"},"Simple Timer v",x.a," by fliegwerk\xa0|\xa0",r.a.createElement("a",{href:"https://www.fliegwerk.com/legal",target:"_blank",rel:"noopener noreferrer"},"Legal Notice"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,n){},55:function(e){e.exports=JSON.parse('{"a":"0.3.7"}')},57:function(e,t,n){e.exports=n(134)},62:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.99d38d54.chunk.js.map