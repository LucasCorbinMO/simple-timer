(this["webpackJsonpsimple-timer"]=this["webpackJsonpsimple-timer"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),o=n.n(c),l=(n(63),n(5)),i=(n(64),n(52)),s=n.n(i),u=n(8),m=n(9),f=(n(69),n(70),n(57));n(71),n(47);function d(e){return{seconds:Math.floor(e/1e3)%60,minutes:Math.floor(e/6e4)%60,hours:Math.floor(e/36e5)%24,days:Math.floor(e/864e5)}}var g=[{id:"days",label:"Days:"},{id:"hours",label:"Hours:"},{id:"minutes",label:"Minutes:"},{id:"seconds",label:"Seconds:"}];function h(e){var t=e.countdownTime,n=e.setCountdownTime,c=Object(a.useState)(function(e){var t=d(e);return{seconds:t.seconds.toString(),minutes:t.minutes.toString(),hours:t.hours.toString(),days:t.days.toString()}}(t)),o=Object(l.a)(c,2),i=o[0],s=o[1];function u(e){var t=e.target,a=t.value,r=t.id,c=Object(f.a)({},JSON.parse(JSON.stringify(i)));c[r]=Number.parseInt(a),s(c),n(function(e){var t=parseInt(e.seconds)||0,n=parseInt(e.minutes)||0,a=parseInt(e.hours)||0;return 1e3*(60*(60*(24*(parseInt(e.days)||0)+a)+n)+t)}(c))}return r.a.createElement("form",{className:"form"},g.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{className:"input",type:"number",id:e.id,name:e.id,value:i[e.id],onChange:u}))})))}function v(e){var t=e.value,n=e.onClick;return r.a.createElement("button",{className:"input",onClick:n},t)}var E=n(24),b=n.n(E);function p(e){var t=e.finishDate,n=e.countdownTime,c=e.setFinishDate,o=e.setCountdownTime,l=e.setAppState,i=e.infoText,f=e.setInfoText,d=e.setImage,g=e.image,E=Object(a.useRef)(i||"");return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(u.a,{icon:m.g})," Title"),r.a.createElement("div",null,r.a.createElement(b.a,{className:"textarea",html:E.current,onChange:function(e){return E.current=e.target.value},onBlur:function(){return f&&f(E.current)},tagName:"div"}))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(u.a,{icon:m.f})," Image"),r.a.createElement("div",null,r.a.createElement("input",{id:"inputImage",type:"file",accept:".png,.jpg,.jpeg,.gif,.tiff,.svg",onChange:function(e){var t=(e.target.files||[])[0],n=new FileReader;n.onload=function(e){e&&e.target&&e.target.result&&d({dataURI:e.target.result.toString(),title:t.name})},n.readAsDataURL(t)}}),r.a.createElement("label",{className:"textarea",htmlFor:"inputImage"},r.a.createElement(u.a,{icon:m.c})," Select file (",g?g.title:"none selected",")"),g&&r.a.createElement("button",{onClick:function(){console.log("Clear image"),d(null)}},"Clear"),r.a.createElement("p",null,r.a.createElement("small",null,"This image only gets used locally. No images ever reach our servers.")))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(u.a,{icon:m.a})," Count to datetime"),r.a.createElement("div",{className:"datepicker"},r.a.createElement(s.a,{selected:t,onChange:function(e){return c(e||t)},shouldCloseOnSelect:!1,showTimeSelect:!0,timeIntervals:5,dateFormat:"yyyy MMMM d, HH:mm",customInput:r.a.createElement(v,null)})),r.a.createElement("button",{onClick:function(){l("countToDate")}},"Start ",r.a.createElement(u.a,{icon:m.i}))),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(u.a,{icon:m.e})," Countdown"),r.a.createElement("div",null,r.a.createElement(h,{countdownTime:n,setCountdownTime:o})),r.a.createElement("button",{onClick:function(){l("countdown")}},"Start ",r.a.createElement(u.a,{icon:m.k}))))}n(131);n(132);function w(e){var t=function(e){var t=d(e);return{seconds:(t.seconds<10?"0":"")+t.seconds.toString(),minutes:(t.minutes<10?"0":"")+t.minutes.toString(),hours:(t.hours<10?"0":"")+t.hours.toString(),days:(t.days<10?"0":"")+t.days.toString()}}(e.time);return r.a.createElement("div",{className:"clock"},r.a.createElement("div",{className:"time-container time-days"},r.a.createElement("span",{className:"time-value time-days-value"},t.days),r.a.createElement("span",{className:"time-label time-days-label"},"Days")),r.a.createElement("div",{className:"time-container time-hours"},r.a.createElement("span",{className:"time-value time-hours-value"},t.hours),r.a.createElement("span",{className:"time-label time-hours-label"},"Hours")),r.a.createElement("div",{className:"time-container time-minutes"},r.a.createElement("span",{className:"time-value time-minutes-value"},t.minutes),r.a.createElement("span",{className:"time-label time-minutes-label"},"Minutes")),r.a.createElement("div",{className:"time-container time-seconds"},r.a.createElement("span",{className:"time-value time-seconds-value"},t.seconds),r.a.createElement("span",{className:"time-label time-seconds-label"},"Seconds")))}function y(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){var e;null===(e=n.current)||void 0===e||e.call(n)}),t);return function(){return clearInterval(e)}}}),[t])}n(133);function S(e){var t=e.infoText,n=e.setInfoText,c=e.small,o=e.editable,l=Object(a.useRef)(t||""),i="".concat(c&&"small"," infotext");return r.a.createElement(b.a,{className:i,html:l.current,disabled:!o,onChange:function(e){return l.current=e.target.value},onBlur:function(){return n&&n(l.current)},tagName:"h2"})}function O(e){var t=e.countdownTime,n=e.infoText,c=e.setInfoText,o=Object(a.useState)(t),i=Object(l.a)(o,2),s=i[0],f=i[1],d=Object(a.useState)(0),g=Object(l.a)(d,2),h=g[0],v=g[1],E=Object(a.useState)(null),b=Object(l.a)(E,2),p=b[0],O=b[1],N=Object(a.useState)(!0),k=Object(l.a)(N,2),j=k[0],T=k[1],I=Object(a.useState)(!1),C=Object(l.a)(I,2),x=C[0],D=C[1];function M(){O(null)}return Object(a.useEffect)((function(){s<=0&&O(null)}),[s]),Object(a.useEffect)((function(){p?(T(!1),D(!0)):(T(s>0),D(!1))}),[p,s]),y((function(){var e=Date.now();f(h-e>0?h-e:0)}),p),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{infoText:n,editable:!0,setInfoText:c}),r.a.createElement(w,{time:s}),r.a.createElement("div",{className:"buttonbar"},r.a.createElement("button",{onClick:function(){f((function(){return M(),t}))}},r.a.createElement(u.a,{icon:m.m})),r.a.createElement("button",{onClick:M,disabled:!x},r.a.createElement(u.a,{icon:m.h})),r.a.createElement("button",{onClick:function(){s>0&&(v(Date.now()+s),O(200))},disabled:!j},r.a.createElement(u.a,{icon:m.j}))))}function N(e){var t=e.finishDate,n=e.infoText,c=e.setInfoText,o=Object(a.useState)(0),i=Object(l.a)(o,2),s=i[0],u=i[1];return y((function(){var e=t.valueOf()-Date.now().valueOf();u(e>0?e:0)}),200),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{editable:!0,infoText:n,setInfoText:c}),r.a.createElement("p",{className:"center"},"Date: ".concat(t.toLocaleString())),r.a.createElement(w,{time:s}))}var k=n(56);function j(e,t){var n=window.localStorage.getItem(e),r=null!==n&&void 0!==n?n:JSON.stringify(t),c=Object(a.useState)(JSON.parse(r)),o=Object(l.a)(c,2),i=o[0],s=o[1];return[i,function(t){localStorage.setItem(e,JSON.stringify(t));for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return s.apply(void 0,[t].concat(a))}]}function T(e){return e.toISOString()}var I=n(55),C={bg:"#151515",accent:"#a35212",fg:"#ffffff",fg_dim:"#b3b3b3",gray:"#4e4e4e"},x={bg:"white",fg_dim:"#888",gray:"#eee",accent:"powderblue",fg:"#222"};var D=n(29),M=n.n(D);function A(e){var t=function(){var e=j("theme",C),t=Object(l.a)(e,2),n=t[0],a=t[1];return function(e){document.documentElement.style.setProperty("--bg",e.bg),document.documentElement.style.setProperty("--fg",e.fg),document.documentElement.style.setProperty("--fg-dim",e.fg_dim),document.documentElement.style.setProperty("--gray",e.gray),document.documentElement.style.setProperty("--accent",e.accent)}(n),function(e){a(e)}}(),n=Object(a.useCallback)((function(){if(M()()){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;t(e?C:x)}}),[t]);return Object(a.useEffect)((function(){return n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",n)}}),[n]),r.a.createElement(r.a.Fragment,null,e.children)}function J(e,t){if(t<=0)throw new Error("numChunks must be greater than 0");for(var n=[],a=1;a<=t;a++)n.push(e.substring((a-1)*e.length/t,a*e.length/t));return n}var F=function(){var e=j("app-state","none"),t=Object(l.a)(e,2),n=t[0],c=t[1],o=function(e,t){var n,a=j(e,T(t)),r=Object(l.a)(a,2),c=r[0],o=r[1];return[(n=c,new Date(Date.parse(n))),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return o.apply(void 0,[T(e)].concat(n))}]}("finish-date",new Date),i=Object(l.a)(o,2),s=i[0],f=i[1],d=j("countdownTime",9e5),g=Object(l.a)(d,2),h=g[0],v=g[1],E=j("infoText","Aerospace Technology"),b=Object(l.a)(E,2),w=b[0],y=b[1],S=function(e,t,n){var r=Object(a.useState)((function(){for(var a=[],r=0;r<t;r++)a.push(window.localStorage.getItem("".concat(e,"-chunk-").concat(r))||"");var c=a.join("").length?a.join(""):JSON.stringify(n),o=null;try{o=JSON.parse(null!==c&&void 0!==c?c:"null")}catch(l){console.warn("Parsing the stored ".concat(e," failed. Purging stored data. Details:"),l),localStorage.clear()}return o})),c=Object(l.a)(r,2),o=c[0],i=c[1];return[o,function(n){var a=J(JSON.stringify(n),t);try{a.forEach((function(t,n){return localStorage.setItem("".concat(e,"-chunk-").concat(n),t)}))}catch(s){alert("The ".concat(e," you selected is too large to get stored permanently. It will get used during this session, but upon refreshing the page, you'll have to reselect it.")),console.warn("Couldn't store ".concat(e," in localStorage. Details:"),s);for(var r=0;r<t;r++)localStorage.removeItem("".concat(e,"-chunk-").concat(r))}for(var c=arguments.length,o=new Array(c>1?c-1:0),l=1;l<c;l++)o[l-1]=arguments[l];return i.apply(void 0,[n].concat(o))}]}("image",16,null),C=Object(l.a)(S,2),x=C[0],D=C[1];return r.a.createElement(A,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"none"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},r.a.createElement(u.a,{icon:m.l})," Simple Timer"),r.a.createElement(p,{finishDate:s,countdownTime:h,setFinishDate:f,setCountdownTime:v,setAppState:c,infoText:w,setInfoText:y,setImage:D,image:x})),"none"!==n&&x&&r.a.createElement("img",{id:"logo",src:x.dataURI,alt:x.title}),"countdown"===n&&r.a.createElement(O,{countdownTime:h,infoText:w,setInfoText:y}),"countToDate"===n&&r.a.createElement(N,{finishDate:s,infoText:w,setInfoText:y}),"none"!==n&&r.a.createElement("button",{className:"back",onClick:function(){c("none")}},r.a.createElement(u.a,{icon:m.b})," Back")),r.a.createElement("footer",null,r.a.createElement("div",{className:"smlinks"},r.a.createElement("a",{className:"iconlink",href:"https://github.com/fliegwerk/simple-timer/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(u.a,{icon:k.a})),r.a.createElement("a",{className:"iconlink",href:"https://fliegwerk.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(u.a,{icon:m.d}))),r.a.createElement("p",{className:"center"},"Simple Timer v",I.a," by fliegwerk\xa0|\xa0",r.a.createElement("a",{href:"https://www.fliegwerk.com/legal",target:"_blank",rel:"noopener noreferrer"},"Legal Notice")))))},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{className:M()()?"electron":"web"},r.a.createElement(F,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()},47:function(e,t,n){},55:function(e){e.exports=JSON.parse('{"a":"0.4.3"}')},58:function(e,t,n){e.exports=n(134)},63:function(e,t,n){},64:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.25aa7cac.chunk.js.map